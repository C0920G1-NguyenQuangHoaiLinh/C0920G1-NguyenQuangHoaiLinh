<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        {
            box-sizing: border-box
        ;
        }

        body {
            margin: 0;
        }

        .header {
            background-image: url("Review-Furama-Resort-Da-Nang.jpg");
            background-size: 100%;
            padding: 100px;
            text-align: center;
            color: orangered;
        }

        .column {
            float: left;
            width: 50%;
            padding: 15px;
        }

        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        @media screen and (max-width: 600px) {
            .column {
                width: 100%;
            }
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
<div class="header">
    <h1>FURAMA RESORT</h1>
    <h2>Da Nang City</h2>
</div>
<div class="row">
    <div class="col-sm-3">
        <form>
            <h3>Input information customer</h3>
            <table id="table1">
                <tr>
                    <td>1.FullName</td>
                    <td><input type="text" id="name"></td>
                </tr>
                <tr>
                    <td>2.IdCard</td>
                    <td><input type="number" id="idCard"></td>
                </tr>
                <tr>
                    <td>3.Birthday</td>
                    <td><input type="text" id="birthday"></td>
                </tr>
                <tr>
                    <td>4.Email</td>
                    <td><input type="text" id="email"></td>
                </tr>
                <tr>
                    <td>5.Address</td>
                    <td><input type="text" id="address"></td>
                </tr>
                <tr>
                    <td><p>6.TypeCustomer</td>
                    <td>
                        <select id="typeCustomer">
                            <option value="">----------</option>
                            <option value="Diamond">Diamond</option>
                            <option value="Platinum">Platinum</option>
                            <option value="Gold">Gold</option>
                            <option value="Silver">Silver</option>
                            <option value="Member">Member</option>
                    </td>
                </tr>
                <tr>
                    <td>7.Discount</td>
                    <td><input type="text" id="discount" disabled></td>
                </tr>
                <tr>
                    <td>8.Quantity Included</td>
                    <td><input type="text" id="quantityIncluded"></td>
                </tr>
                <tr>
                    <td>9.RentsDay</td>
                    <td><input type="text" id="rentsDay"></td>
                </tr>
                <tr>
                    <td>10.Service</td>
                    <td>
                        <select id="service">
                            <option value="">---------------</option>
                            <option value="Villa">Villa = 500$</option>
                            <option value="House">House = 300$</option>
                            <option value="Room">Room = 100$</option>
                    </td>
                </tr>
                <tr>
                    <td>11.TypeRoom</td>
                    <td><select id="typeRoom">
                        <option value="">---------</option>
                        <option value="Vip">Vip</option>
                        <option value="Business">Business</option>
                        <option value="Normal">Normal</option>
                    </td>
                </tr>
                          <tr>
                    <td><input type="button" value="Confirm" onclick="inputForm()"></td>
                    <td><input type="reset" value="Reset"></td>
                </tr>
            </table>
        </form>
    </div>
    <div class="col-sm-9" style="background-color: burlywood">
        <h3>Show information customer</h3>
        <table id="table2" style="border: 2px solid black; border-collapse: collapse">
            <tr style="border: 2px solid black; background-color: darkgray">
                <th style="border: 2px solid black">Name</th>
                <th style="border: 2px solid black">IdCard</th>
                <th style="border: 2px solid black">Birthday</th>
                <th style="border: 2px solid black">Email</th>
                <th style="border: 2px solid black">Address</th>
                <th style="border: 2px solid black">typeCus</th>
                <th style="border: 2px solid black">Discount $</th>
                <th style="border: 2px solid black">Q.I</th>
                <th style="border: 2px solid black">RentsDay</th>
                <th style="border: 2px solid black">Service</th>
                <th style="border: 2px solid black">TypeRoom</th>
                <th style="border: 2px solid black">TotalPay $</th>
            </tr>
            <tr>
                <td id="10" style="border: 2px solid black"></td>
                <td id="20" style="border: 2px solid black"></td>
                <td id="30" style="border: 2px solid black"></td>
                <td id="40" style="border: 2px solid black"></td>
                <td id="50" style="border: 2px solid black"></td>
                <td id="60" style="border: 2px solid black"></td>
                <td id="70" style="border: 2px solid black"></td>
                <td id="80" style="border: 2px solid black"></td>
                <td id="90" style="border: 2px solid black"></td>
                <td id="100" style="border: 2px solid black"></td>
                <td id="110" style="border: 2px solid black"></td>
                <td id="120" style="border: 2px solid black"></td>
                <td style="border: 2px solid black"><input type="button" value="Edit" onclick="editCustomer1()"></td>
                <td style="border: 2px solid black"><input type="button" value="Delete" onclick="editCustomer1()"></td>
            </tr>
            <tr>
                <td id="11" style="border: 2px solid black"></td>
                <td id="21" style="border: 2px solid black"></td>
                <td id="31" style="border: 2px solid black"></td>
                <td id="41" style="border: 2px solid black"></td>
                <td id="51" style="border: 2px solid black"></td>
                <td id="61" style="border: 2px solid black"></td>
                <td id="71" style="border: 2px solid black"></td>
                <td id="81" style="border: 2px solid black"></td>
                <td id="91" style="border: 2px solid black"></td>
                <td id="101" style="border: 2px solid black"></td>
                <td id="111" style="border: 2px solid black"></td>
                <td id="121" style="border: 2px solid black"></td>
                <td style="border: 2px solid black"><input type="button" value="Edit" onclick="editCustomer2()"></td>
                <td style="border: 2px solid black"><input type="button" value="Delete" onclick="editCustomer2()"></td>
            </tr>
            <tr>
                <td id="12" style="border: 2px solid black"></td>
                <td id="22" style="border: 2px solid black"></td>
                <td id="32" style="border: 2px solid black"></td>
                <td id="42" style="border: 2px solid black"></td>
                <td id="52" style="border: 2px solid black"></td>
                <td id="62" style="border: 2px solid black"></td>
                <td id="72" style="border: 2px solid black"></td>
                <td id="82" style="border: 2px solid black"></td>
                <td id="92" style="border: 2px solid black"></td>
                <td id="102" style="border: 2px solid black"></td>
                <td id="112" style="border: 2px solid black"></td>
                <td id="122" style="border: 2px solid black"></td>
                <td style="border: 2px solid black"><input type="button" value="Edit" onclick="editCustomer3()"></td>
                <td style="border: 2px solid black"><input type="button" value="Delete" onclick="editCustomer3()"></td>
            </tr>
            <input type="button" value="Option" onclick="editForm()">
        </table>
    </div>
</div>

<script>
    let count = 0;
    let name = document.getElementById("name").value;
    let idCard = document.getElementById("idCard").value;
    let birthday = document.getElementById("birthday").value;
    let email = document.getElementById("email").value;
    let address = document.getElementById("address").value;
    let typeCustomer = document.getElementById("typeCustomer").value;
    let discount ;
    let quantityIncluded = document.getElementById("quantityIncluded").value;
    let rentsDay = document.getElementById("rentsDay").value;
    let service = document.getElementById("service").value;
    let typeRoom = document.getElementById("typeRoom").value;
    let totalPay;

    function inputForm() {
        if (count === 0) {
            inputForm1();
            count++;
            return count;
        } else if (count === 1) {
            inputForm2();
            count++;
            return count;
        } else if (count === 2) {
            inputForm3();
            count++;
            return count = 0;
        }
    }
    function checkEmail(email) {
        let regex =/^\w{3,}@[a-zA-Z]{3,5}\.[a-zA-Z]{2,3}$/;
        return regex.test(email);
    }
    function checkBirthday(birthday) {
        let regex =/^((0[1-9])|([1-2][0-9])|(3[0-1]))\/(([0][1-9])|1[0-2])\/(19[0-9]{2}|20[0-1][0-9]|2020)$/;
        return regex.test(birthday);
    }
    function checkIdCard(idCard) {
        let regex = /^[0-9]{9}$/;
        return regex.test(idCard);
    }
    function inputForm1() {
        let name = document.getElementById("name").value;
        let idCard = document.getElementById("idCard").value;
        let birthday = document.getElementById("birthday").value;
        let email = document.getElementById("email").value;
        let address = document.getElementById("address").value;
        let typeCustomer = document.getElementById("typeCustomer").value;
        let discount = 0;
        let quantityIncluded = document.getElementById("quantityIncluded").value;
        let rentsDay = document.getElementById("rentsDay").value;
        let service = document.getElementById("service").value;
        let typeRoom = document.getElementById("typeRoom").value;
        let totalPay;

        let tempName = "";
        for (let i =0 ; i < name.length ; i++){
            if (name.charAt(i)===" "&&name.charAt(i+1)===" "){
                continue;
            }
            if (i===0 || name.charAt(i-1)===" "){
                tempName += name.charAt(i).toUpperCase();
                continue;
            } else if (name.charAt(i-1)!== " "){
                tempName += name.charAt(i).toLowerCase();
                continue;
            }

            tempName += name.charAt(i);
        }
        name = tempName;

        let tempAddress = "";
        for (let i = 0; i < address.length; i++){
            if (address.charAt(i)===" "&& address.charAt(i+1)===" "){
                continue;
            }
            if (i===0 || address.charAt(i-1)===" "){
                tempAddress += address.charAt(i).toUpperCase();
                continue;
            }
            tempAddress += address.charAt(i);
        }
        address = tempAddress;

        if (!checkEmail(email)){
            alert("email không đúng định dạng");
            return count--;
        }
        if (!checkBirthday(birthday)){
            alert("birthday không đúng");
            return count--;
        }
        if (!checkIdCard(idCard)){
            alert("Id Card phải có 9 số");
            return count--;
        }
        if (rentsDay <= 0){
            alert("số ngày thuê phải lớn hơn 0");
            return count--;
        }
        if (quantityIncluded < 0){
            alert("số người đi kèm không đúng");
            return count--;
        }

        if (address === "Da Nang") {
            discount += 20;
        } else if (address === "Hue") {
            discount += 10;
        } else if (address === "Quang Nam") {
            discount += 5;
        }
        if (rentsDay > 7) {
            discount += 30;
        } else if (rentsDay <= 7 && rentsDay >= 5) {
            discount += 20;
        } else if (rentsDay <= 4 && rentsDay >= 2) {
            discount += 10;
        }
        switch (typeCustomer) {
            case ("Diamond"):
                discount += 15;
                break;
            case ("Platinum"):
                discount += 10;
                break;
            case ("Gold"):
                discount += 5;
                break;
            case ("Silver"):
                discount += 2;
                break;
            case ("Member"):
                discount += 0;
                break;
        }
        switch (service) {
            case ("Villa"):
                totalPay = 500 * rentsDay - discount;
                break;
            case ("House"):
                totalPay = 300 * rentsDay - discount;
                break;
            case ("Room"):
                totalPay = 100 * rentsDay - discount;
                break;
        }
        document.getElementById("10").innerHTML += name;
        document.getElementById("20").innerHTML += idCard;
        document.getElementById("30").innerHTML += birthday;
        document.getElementById("40").innerHTML += email;
        document.getElementById("50").innerHTML += address;
        document.getElementById("60").innerHTML += typeCustomer;
        document.getElementById("70").innerHTML += discount;
        document.getElementById("80").innerHTML += quantityIncluded;
        document.getElementById("90").innerHTML += rentsDay;
        document.getElementById("100").innerHTML += service;
        document.getElementById("110").innerHTML += typeRoom;
        document.getElementById("120").innerHTML += totalPay;
    }

    function inputForm2() {
        let name = document.getElementById("name").value;
        let idCard = document.getElementById("idCard").value;
        let birthday = document.getElementById("birthday").value;
        let email = document.getElementById("email").value;
        let address = document.getElementById("address").value;
        let typeCustomer = document.getElementById("typeCustomer").value;
        let discount = 0;
        let quantityIncluded = document.getElementById("quantityIncluded").value;
        let rentsDay = document.getElementById("rentsDay").value;
        let service = document.getElementById("service").value;
        let typeRoom = document.getElementById("typeRoom").value;
        let totalPay;

        let tempName = "";
        for (let i =0 ; i < name.length ; i++){
            if (name.charAt(i)===" "&&name.charAt(i+1)===" "){
                continue;
            }
            if (i===0 || name.charAt(i-1)===" "){
                tempName += name.charAt(i).toUpperCase();
                continue;
            }
            tempName += name.charAt(i);
        }
        name = tempName;

        if (!checkEmail(email)){
            alert("email không đúng định dạng");
            return count--;
        }

        function kiemTraEmail(email) {
            let regex =/^\w{3,}@[a-zA-Z]{3,5}\.[a-zA-Z]{2,3}$/;
            return regex.test(email);
        }
        if (!kiemTraEmail(email)){
            alert("email không đúng định dạng")
            return email = document.getElementById("email").value;
        }

        if (address === "Da Nang") {
            discount += 20;
        } else if (address === "Hue") {
            discount += 10;
        } else if (address === "Quang Nam") {
            discount += 5;
        }
        if (rentsDay > 7) {
            discount += 30;
        } else if (rentsDay <= 7 && rentsDay >= 5) {
            discount += 20;
        } else if (rentsDay <= 4 && rentsDay >= 2) {
            discount += 10;
        }
        switch (typeCustomer) {
            case ("Diamond"):
                discount += 15;
                break;
            case ("Platinum"):
                discount += 10;
                break;
            case ("Gold"):
                discount += 5;
                break;
            case ("Silver"):
                discount += 2;
                break;
            case ("Member"):
                discount += 0;
                break;
        }
        switch (service) {
            case ("Villa"):
                totalPay = 500 * rentsDay - discount;
                break;
            case ("House"):
                totalPay = 300 * rentsDay - discount;
                break;
            case ("Room"):
                totalPay = 100 * rentsDay - discount;
                break;
        }
        document.getElementById("11").innerHTML += name;
        document.getElementById("21").innerHTML += idCard;
        document.getElementById("31").innerHTML += birthday;
        document.getElementById("41").innerHTML += email;
        document.getElementById("51").innerHTML += address;
        document.getElementById("61").innerHTML += typeCustomer;
        document.getElementById("71").innerHTML += discount;
        document.getElementById("81").innerHTML += quantityIncluded;
        document.getElementById("91").innerHTML += rentsDay;
        document.getElementById("101").innerHTML += service;
        document.getElementById("111").innerHTML += typeRoom;
        document.getElementById("121").innerHTML += totalPay;
    }

    function inputForm3() {
        let name = document.getElementById("name").value;
        let idCard = document.getElementById("idCard").value;
        let birthday = document.getElementById("birthday").value;
        let email = document.getElementById("email").value;
        let address = document.getElementById("address").value;
        let typeCustomer = document.getElementById("typeCustomer").value;
        let discount = 0;
        let quantityIncluded = document.getElementById("quantityIncluded").value;
        let rentsDay = document.getElementById("rentsDay").value;
        let service = document.getElementById("service").value;
        let typeRoom = document.getElementById("typeRoom").value;
        let totalPay;

        let tempName = "";
        for (let i =0 ; i < name.length ; i++){
            if (name.charAt(i)===" "&&name.charAt(i+1)===" "){
                continue;
            }
            if (i===0 || name.charAt(i-1)===" "){
                tempName += name.charAt(i).toUpperCase();
                continue;
            }
            tempName += name.charAt(i);
        }
        name = tempName;

        if (!checkEmail(email)){
            alert("email không đúng định dạng");
            return count--;
        }

        function kiemTraEmail(email) {
            let regex =/^\w{3,}@[a-zA-Z]{3,5}\.[a-zA-Z]{2,3}$/;
            return regex.test(email);
        }
        if (!kiemTraEmail(email)){
            alert("email không đúng định dạng")
            return email = document.getElementById("email").value;
        }

        if (address === "Da Nang") {
            discount += 20;
        } else if (address === "Hue") {
            discount += 10;
        } else if (address === "Quang Nam") {
            discount += 5;
        }
        if (rentsDay > 7) {
            discount += 30;
        } else if (rentsDay <= 7 && rentsDay >= 5) {
            discount += 20;
        } else if (rentsDay <= 4 && rentsDay >= 2) {
            discount += 10;
        }
        switch (typeCustomer) {
            case ("Diamond"):
                discount += 15;
                break;
            case ("Platinum"):
                discount += 10;
                break;
            case ("Gold"):
                discount += 5;
                break;
            case ("Silver"):
                discount += 2;
                break;
            case ("Member"):
                discount += 0;
                break;
        }
        switch (service) {
            case ("Villa"):
                totalPay = 500 * rentsDay - discount;
                break;
            case ("House"):
                totalPay = 300 * rentsDay - discount;
                break;
            case ("Room"):
                totalPay = 100 * rentsDay - discount;
                break;
        }
        document.getElementById("12").innerHTML += name;
        document.getElementById("22").innerHTML += idCard;
        document.getElementById("32").innerHTML += birthday;
        document.getElementById("42").innerHTML += email;
        document.getElementById("52").innerHTML += address;
        document.getElementById("62").innerHTML += typeCustomer;
        document.getElementById("72").innerHTML += discount;
        document.getElementById("82").innerHTML += quantityIncluded;
        document.getElementById("92").innerHTML += rentsDay;
        document.getElementById("102").innerHTML += service;
        document.getElementById("112").innerHTML += typeRoom;
        document.getElementById("122").innerHTML += totalPay;
    }

    function editCustomer1() {
        count = 0;
        document.getElementById("10").value = "";
        document.getElementById("20").value = "";
        document.getElementById("30").value = "";
        document.getElementById("40").value = "";
        document.getElementById("50").value = "";
        document.getElementById("60").value = "";
        document.getElementById("70").value = "";
        document.getElementById("80").value = "";
        document.getElementById("90").value = "";
        document.getElementById("100").value = "";
        document.getElementById("110").value = "";
        document.getElementById("120").value = "";
        document.getElementById("10").textContent = name;
        document.getElementById("20").textContent = idCard;
        document.getElementById("30").textContent = birthday;
        document.getElementById("40").textContent = email;
        document.getElementById("50").textContent = address;
        document.getElementById("60").textContent = typeCustomer;
        document.getElementById("70").textContent = discount;
        document.getElementById("80").textContent = quantityIncluded;
        document.getElementById("90").textContent = rentsDay;
        document.getElementById("100").textContent = service;
        document.getElementById("110").textContent = typeRoom;
        document.getElementById("120").textContent = totalPay;
    }
    function editCustomer2() {
        count = 1;
        document.getElementById("11").value = "";
        document.getElementById("21").value = "";
        document.getElementById("31").value = "";
        document.getElementById("41").value = "";
        document.getElementById("51").value = "";
        document.getElementById("61").value = "";
        document.getElementById("71").value = "";
        document.getElementById("81").value = "";
        document.getElementById("91").value = "";
        document.getElementById("101").value = "";
        document.getElementById("111").value = "";
        document.getElementById("121").value = "";
        document.getElementById("11").textContent = name;
        document.getElementById("21").textContent = idCard;
        document.getElementById("31").textContent = birthday;
        document.getElementById("41").textContent = email;
        document.getElementById("51").textContent = address;
        document.getElementById("61").textContent = typeCustomer;
        document.getElementById("71").textContent = discount;
        document.getElementById("81").textContent = quantityIncluded;
        document.getElementById("91").textContent = rentsDay;
        document.getElementById("101").textContent = service;
        document.getElementById("111").textContent = typeRoom;
        document.getElementById("121").textContent = totalPay;
    }
    function editCustomer3() {
        count = 2;
        document.getElementById("12").value = "";
        document.getElementById("22").value = "";
        document.getElementById("32").value = "";
        document.getElementById("42").value = "";
        document.getElementById("52").value = "";
        document.getElementById("62").value = "";
        document.getElementById("72").value = "";
        document.getElementById("82").value = "";
        document.getElementById("92").value = "";
        document.getElementById("102").value = "";
        document.getElementById("112").value = "";
        document.getElementById("122").value = "";
        document.getElementById("12").textContent = name;
        document.getElementById("22").textContent = idCard;
        document.getElementById("32").textContent = birthday;
        document.getElementById("42").textContent = email;
        document.getElementById("52").textContent = address;
        document.getElementById("62").textContent = typeCustomer;
        document.getElementById("72").textContent = discount;
        document.getElementById("82").textContent = quantityIncluded;
        document.getElementById("92").textContent = rentsDay;
        document.getElementById("102").textContent = service;
        document.getElementById("112").textContent = typeRoom;
        document.getElementById("122").textContent = totalPay;
    }
</script>
</body>
</html>